<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Redirecting...</title>
    <!-- Umami Analytics -->
    <script defer src="https://cloud.umami.is/script.js" data-website-id="ce5d4c27-982e-484b-93b9-069f35e795e3"></script>
    <script>
      // Single Page Apps for GitHub Pages
      // This script handles the redirection for GitHub Pages 404 issues
      // when using client-side routing
      
      // Parse the current URL
      const path = window.location.pathname;
      const search = window.location.search || '';
      const hash = window.location.hash || '';
      
      // For GitHub Pages, we need to handle the repository name in the URL
      // Get base path from current URL - will be empty in local dev or custom domain
      // but will contain the repo name with GitHub Pages (e.g., /repo-name)
      const getBasePath = () => {
        // Get the pathname up to the last forward slash
        const pathSegments = window.location.pathname.split('/');
        // Remove empty strings and the last segment (404.html)
        const filteredSegments = pathSegments.filter(Boolean);
        if (filteredSegments.length <= 1) return '';
        // Remove the "404.html" segment if it exists
        if (filteredSegments[filteredSegments.length - 1] === '404.html') {
          filteredSegments.pop();
        }
        return '/' + filteredSegments.join('/');
      };
      
      const basePath = getBasePath();
      
      // Redirect to the index page with the path as a query parameter
      window.location.href = 
        window.location.origin + 
        basePath + 
        '/index.html?path=' + 
        encodeURIComponent(path) + 
        search + 
        hash;
    </script>
  </head>
  <body>
    <h1>Redirecting...</h1>
    <p>If you are not redirected automatically, <a href="./index.html">click here</a>.</p>
  </body>
</html>